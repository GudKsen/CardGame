<!DOCTYPE html>
<html>

<head>
    <title>Registration</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../public/style.css" />
</head>

<body>
    <div class="container">

        <h1>Registration</h1>
        <div class="error" id="error_confirm" thjs:text="${error_message}"></div><br>

        <form action="/registration" method="post">
            <div>
                <div class="login">
                    <label>Login</label><br>
                    <input type="text" name="login" required><br><br>
                </div>

                <div>
                    <label>Password</label><br>
                    <input type="password" name="password" id="password" required><br><br>
                </div>

                <div>
                    <label>Confirm password</label><br>
                    <input type="password" name="confirm" id="confirm" required><br><br>
                </div>

                <div>
                    <label>Full name</label><br>
                    <input type="text" name="fullName" required><br><br>
                </div>

                <div>
                    <label>Email</label><br>
                    <input type="email" name="email" required><br><br>
                </div>

                <div class="button">
                    <button type="submit" id="button">Sign up</button>
                </div>

            </div>
        </form>

    </div>
    <script>
        const password = document.querySelector('#password');
        const confirm_password = document.querySelector('#confirm');
        const button = document.querySelector('#button');

        button.addEventListener('click', (event) => {
            if (password.value !== confirm_password.value) {
                event.preventDefault();
                document.querySelector('#error_confirm').innerHTML = '<p>ERROR: Your password and confirmation password do not match.</p>';
                document.querySelectorAll('input[type=password]').forEach(item => {
                    item.value = "";
                    password.focus();
                });
            }
        })
    </script>
</body>

</html>